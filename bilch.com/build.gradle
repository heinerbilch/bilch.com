/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'heiner' at '19.11.15 18:31' with Gradle 2.9
 *
 */

buildscript  {
	repositories { jcenter() }

	dependencies {
        classpath 'org.ajoberstar:gradle-git:1.3.2'
		classpath 'me.champeau.gradle:jbake-gradle-plugin:0.2'
		classpath 'org.jbake:jbake-core:2.4.0'
		classpath 'org.asciidoctor:asciidoctorj:1.5.3.2'
		classpath 'org.pegdown:pegdown:1.6.0'
		classpath 'org.freemarker:freemarker:2.3.23'
	}
}

apply plugin: 'me.champeau.jbake'
apply plugin: 'org.ajoberstar.github-pages'
apply plugin: 'eclipse'

jbake { clearCache = true }

def siteDir = "$buildDir/jbake"

githubPages {
	repoUri = 'https://github.com/heinerbilch/heinerbilch.github.io.git'
	targetBranch = 'master'

	pages {
		from(file("$siteDir")) { into '.' }
	}
}

publishGhPages.dependsOn jbake

task publish(dependsOn: publishGhPages, group: 'render',
description: "Publishes buildDir to Github Pages on 'master' branch")
